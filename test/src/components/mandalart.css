/***** Apple Neutral + Pastel Accent *****/

/* 기본(Indigo) 액센트 */
:root{
  /* Neutral (System Gray) */
  --ink-900:#0b0b0c; --ink-700:#1d1e20; --ink-500:#3a3b3f; --ink-300:#a1a1a6; --white:#fff;
  --border:rgba(60,60,67,.18); --border-strong:rgba(60,60,67,.28);
  --text:#0b0b0c; --text-muted:#5a606b;

  /* 파스텔 인디고 팔레트 */
  --tint-50:#f5f5ff; --tint-100:#ecebff; --tint-200:#ddd9ff; --tint-300:#c5c2ff;
  --tint-400:#a9a7ff; --accent:#6b6cff; --accent-700:#4f51f6;

  /* 소프트 오버레이/포커스 */
  --accent-soft: rgba(107,108,255,.12);
  --accent-strong: rgba(107,108,255,.22);
  --focus: rgba(107,108,255,.35);

  /* surfaces */
  --bg: #f7f8fb;
  --surface: #fffffffa;
  --elev: #ffffffd9;

  /* shadows, radii, spacing */
  --shadow: 0 1px 1px rgba(5,6,8,.05), 0 8px 24px rgba(5,6,8,.10);
  --radius-2xl:20px; --radius-lg:16px; --radius-md:12px;
  --space-2:8px; --space-3:12px; --space-4:16px; --space-6:24px; --space-8:32px;
  --sf:-apple-system,BlinkMacSystemFont,"SF Pro Text","Helvetica Neue",Arial,sans-serif;
}

/* 선택형 액센트 테마 (원하면 html에 클래스 추가) */
.theme-teal{
  --tint-50:#eefaf7; --tint-100:#d8f5ee; --tint-200:#c2efe6; --tint-300:#a3e6db;
  --tint-400:#82dbce; --accent:#34c7a4; --accent-700:#12b394;
  --accent-soft: rgba(52,199,164,.14); --accent-strong: rgba(52,199,164,.24); --focus: rgba(52,199,164,.35);
}
.theme-purple{
  --tint-50:#faf5ff; --tint-100:#f2e9ff; --tint-200:#e6d6ff; --tint-300:#d4bbff;
  --tint-400:#bd9cff; --accent:#9b6bff; --accent-700:#854ff6;
  --accent-soft: rgba(155,107,255,.14); --accent-strong: rgba(155,107,255,.24); --focus: rgba(155,107,255,.35);
}
.theme-orange{
  --tint-50:#fff7f2; --tint-100:#ffefe3; --tint-200:#ffe3cc; --tint-300:#ffd4ad;
  --tint-400:#ffc089; --accent:#ff9f43; --accent-700:#f68a29;
  --accent-soft: rgba(255,159,67,.16); --accent-strong: rgba(255,159,67,.26); --focus: rgba(255,159,67,.35);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg: linear-gradient(180deg,#0b0b10 0%,#0b0b0f 100%);
    --surface: rgba(17,18,22,.78); --elev: rgba(22,24,28,.72);
    --text:#f5f5f7; --text-muted:#b9b9bf;
    --border:rgba(99,99,102,.25); --border-strong:rgba(142,142,147,.36);
    --shadow:0 1px 1px rgba(0,0,0,.35), 0 10px 30px rgba(0,0,0,.55);
  }
}

/* === 공통 === */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); font-family:var(--sf); line-height:1.45;
  /* 중립 + 액센트 파스텔 워시 */
  background:
    radial-gradient(1200px 600px at 10% -10%, var(--accent-soft), transparent 40%),
    radial-gradient(900px 700px at 100% 0%, rgba(99,99,102,.10), transparent 50%),
    var(--bg);
}

/* ===== Toolbar ===== */
.mdr-app{max-width:1080px;margin:0 auto;padding:var(--space-8) var(--space-4)}
.mdr-toolbar{
  display:flex;align-items:center;justify-content:space-between;gap:var(--space-4);
  margin-bottom:var(--space-6);
  background: linear-gradient(180deg, rgba(255,255,255,.70), rgba(255,255,255,.40));
  border:1px solid var(--border);
  border-radius: var(--radius-2xl);
  padding:10px 14px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(12px) saturate(120%);
}
@media (prefers-color-scheme: dark){
  .mdr-toolbar{ background: linear-gradient(180deg, rgba(30,30,35,.75), rgba(30,30,35,.55)); }
}
.mdr-title-md{font-size:22px;font-weight:700;letter-spacing:-.01em}

/* ===== Cards ===== */
.mdr-card{
  background: linear-gradient(180deg, var(--surface), var(--elev));
  border:1px solid var(--border);
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow);
  padding: var(--space-4);
}

/* ===== Buttons (파스텔 → 액센트) ===== */
.mdr-btn{
  appearance:none; cursor:pointer;
  border:1px solid var(--border-strong);
  color:#fff;
  background: linear-gradient(180deg, var(--tint-400), var(--accent));
  padding:10px 14px; border-radius:14px;
  box-shadow: 0 1px 0 rgba(255,255,255,.25) inset, 0 8px 20px var(--accent-soft);
  transition: transform .05s ease, filter .2s ease, box-shadow .2s ease;
}
.mdr-btn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
.mdr-btn:active{ transform: translateY(0); filter: brightness(.98); }
.mdr-btn:focus-visible{ outline:none; box-shadow: 0 0 0 5px var(--focus); }

.mdr-btn--secondary{
  background: linear-gradient(180deg, #f2f2f7, #e5e5ea);
  color:#1c1c1e; border-color:var(--border);
}
.mdr-btn--ghost{
  background: linear-gradient(180deg, var(--tint-50), var(--tint-100));
  color: var(--accent-700);
  border:1px solid var(--border);
  box-shadow:none;
}

/* 아이콘 버튼 */
.mdr-icon-btn{
  appearance:none; cursor:pointer;
  border:1px solid var(--border);
  background: linear-gradient(180deg, var(--surface), var(--elev));
  color: var(--accent-700);
  padding:8px 10px; border-radius:12px;
  box-shadow: var(--shadow);
  transition: transform .05s ease, box-shadow .2s ease;
}
.mdr-icon-btn:hover{ transform: translateY(-1px); }
.mdr-icon-btn:focus-visible{ outline:none; box-shadow: 0 0 0 5px var(--focus); }

/* ===== Calendar ===== */
.mdr-grid{ display:grid; grid-template-columns: repeat(7, 1fr); gap: 10px; }
.mdr-weekdays{ display:grid; grid-template-columns:repeat(7,1fr); gap:10px; color:var(--text-muted); margin:0 0 6px; font-size:12px; }
.mdr-day{
  position:relative; height:92px;
  background: linear-gradient(180deg, var(--surface), var(--elev));
  border:1px solid var(--border);
  border-radius: 16px;
  padding:10px; text-align:left;
  transition: transform .05s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  box-shadow: var(--shadow);
}
.mdr-day:hover{ transform: translateY(-1px); border-color: var(--border-strong); }
.mdr-day.is-out{ opacity:.6; }
.mdr-day.is-today{
  box-shadow: 0 0 0 2px var(--accent-soft) inset, var(--shadow);
  border-color: var(--accent-strong);
  background: linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,.3)), linear-gradient(180deg, var(--surface), var(--elev));
}
.mdr-day.has-plan{
  background: linear-gradient(180deg, var(--tint-50), var(--tint-100)), linear-gradient(180deg, var(--surface), var(--elev));
  border-color: var(--accent-strong);
}
.mdr-day.has-plan::after{
  content:""; position:absolute; top:8px; right:8px; width:8px; height:8px; border-radius:999px; background: var(--accent);
}
.mdr-day__head{ display:flex; align-items:center; justify-content:space-between; }
.mdr-day__num{ font-size:13px; font-weight:700; color: var(--ink-900); }
@media (prefers-color-scheme: dark){
  .mdr-day__num{ color:#e9e9ee; }
}

/* ===== Mandal editor ===== */
.mdr-editor{ display:grid; gap: var(--space-4); }
.mdr-centerbar{
  background: linear-gradient(180deg, var(--surface), var(--elev));
  border:1px solid var(--border);
  border-radius: var(--radius-2xl);
  padding: var(--space-3);
  box-shadow: var(--shadow);
}
.mdr-3x3{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }

.mdr-cell, .mdr-center{
  position:relative;
  background: linear-gradient(180deg, var(--surface), var(--elev));
  border:1px solid var(--border);
  border-radius: 18px;
  padding: 6px;
  height: 70px;
  box-shadow: var(--shadow);
}
.mdr-cell__expand, .mdr-ringcell__expand{
  position:absolute; right:8px; top:8px;
  width:28px; height:28px; display:flex; align-items:center; justify-content:center;
  border:1px solid var(--border);
  background: linear-gradient(180deg, var(--tint-50), var(--tint-100));
  color: var(--accent-700);
  border-radius: 10px;
  box-shadow: var(--shadow);
}
.mdr-ringcell{ position:relative; }
.mdr-input--with-expand{ padding-right:38px; }

/* Inputs */
.mdr-field{ display:grid; gap:6px; }
.mdr-label{ font-size:12px; color: var(--text-muted); }
.mdr-input, .mdr-textarea{
  width:100%; font-family:var(--sf); font-size:14px; color:var(--text);
  border:1px solid var(--border); background:#fff9;
  border-radius: 12px; padding:10px 12px;
  transition: border-color .15s ease, box-shadow .15s ease, background .2s ease;
  backdrop-filter: blur(6px);
}
.mdr-input:hover, .mdr-textarea:hover{ border-color: var(--border-strong); }
.mdr-input:focus, .mdr-textarea:focus{ outline:none; border-color: var(--accent); box-shadow: 0 0 0 5px var(--focus); }

/* Suggestions (chips) */
.mdr-suggests{ display:grid; gap:8px; margin-top:10px; }
.mdr-suggests__head{ display:flex; align-items:center; justify-content:space-between; }
.mdr-suggests__chips{ display:flex; flex-wrap:wrap; gap:8px; }
.mdr-chip{
  appearance:none; cursor:pointer;
  border:1px solid var(--border);
  background: linear-gradient(180deg, var(--tint-50), var(--tint-100));
  color: var(--accent-700);
  padding:6px 10px; border-radius:999px; font-size:12px;
  box-shadow: var(--shadow);
  transition: transform .05s ease, box-shadow .2s ease, filter .2s ease;
}
.mdr-chip:hover{ transform: translateY(-1px); filter: brightness(1.03); }
.mdr-chip:focus-visible{ outline:none; box-shadow: 0 0 0 5px var(--focus); }

/* Switch */
.mdr-switch{ display:flex; align-items:center; gap:8px; font-size:13px; color:var(--text-muted); user-select:none; }
.mdr-switch input{
  appearance:none; width:44px; height:26px; border-radius:999px;
  background:#e5e5ea; position:relative; border:1px solid var(--border); transition: background .2s ease;
}
.mdr-switch input::after{
  content:""; position:absolute; top:2px; left:2px; width:20px; height:20px; border-radius:999px;
  background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.2); transition: transform .2s ease;
}
.mdr-switch input:checked{ background: var(--accent); }
.mdr-switch input:checked::after{ transform: translateX(18px); }

/* Modal */
.mdr-modal{ position:fixed; inset:0; display:grid; place-items:center; z-index:50; }
.mdr-modal__backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.45); backdrop-filter: blur(6px); }
.mdr-modal__content{
  position:relative; width:min(760px, calc(100vw - 32px));
  background: linear-gradient(180deg, var(--surface), var(--elev));
  color:var(--text); border:1px solid var(--border);
  border-radius: 24px; box-shadow: var(--shadow); overflow:hidden;
  display:flex; flex-direction:column; max-height:90vh;
}
.mdr-modal__header{
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px; border-bottom:1px solid var(--border);
  /* 파스텔 헤더 */
  background: linear-gradient(180deg, var(--tint-100), var(--tint-200));
}
@media (prefers-color-scheme: dark){
  .mdr-modal__header{ background: linear-gradient(180deg, rgba(60,60,67,.35), var(--accent-soft)); }
}
.mdr-modal__body{ padding:16px; }
.mdr-modal__footer{ display:flex; justify-content:flex-end; gap:8px; padding:12px 16px; border-top:1px solid var(--border); }

/* Utilities */
.mdr-align-center{ align-items:center }
.mdr-row{ display:flex; align-items:center }
.mdr-row--between{ justify-content:space-between }
.mdr-row--wrap{ flex-wrap:wrap }
.mdr-gap-xs{ gap:8px } .mdr-gap-sm{ gap:12px }
.mdr-mb-xs{ margin-bottom:8px } .mdr-mb-sm{ margin-bottom:12px }
.mdr-mt-sm{ margin-top:12px } .mdr-mt-lg{ margin-top:24px }
.mdr-col-2{ display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap: var(--space-4); }
.mdr-list{ margin:0; padding-left:18px; display:grid; gap:6px; font-size:14px; color:var(--text-muted) }
